
<!DOCTYPE html>
<html lang="en">
	<head>
		<title>Student Grades</title>
		<link href="css/main.css" rel="stylesheet">
	</head>

	<body>
		<div class="color-main1">
	        <a href="student.html" class="color-main1 nav-bar">home</a>
	    </div>
		
		<div class="center">
			<h1>Available Grades</h1><hr>
		</div>

		<div class="container color-main2 left-align">
			<div class="container color-main2 center">
				<ul id="testlist" class="left-align"></ul>
			</div>
		</div>


		<script type="text/javascript">
			window.onload = function(){
				loadRequest();
				var testjson = '{"tests":["test name 1","another test","impossible test"]}'
				fillTestList(testjson);
			}

			function fillTestList(testjson){
				var json = JSON.parse(testjson);

				var list = document.getElementById("testlist");
				for(var i = 0; i < json.tests.length; i++){
					var entry = document.createElement('li');
					entry.appendChild(document.createTextNode(json.tests[i]));
					list.appendChild(entry);
				}
			}

			function loadRequest(){
				var xmlhttp = new XMLHttpRequest();
				        
				//response from middle
				xmlhttp.onreadystatechange = function() {
				    if (this.readyState == 4) {
				    	console.log(this.responseText)
				        fillTestList(responseText);
				    }
				};

				xmlhttp.open("POST", "https://web.njit.edu/~smc53/cs490/request-generic.php?request=GetAllTests");
				xmlhttp.send();

			}
		</script>
	</body>
</html>

